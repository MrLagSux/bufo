//! THIS IS A TEST PROGRAM
//! STAGE: 2
//! RUNTIME
//! SUCCESS

let bool = @boolean();
let false = bool(0);
let true = bool(1);

let i32 = @integer(32, true);
let i64 = @integer(64, true);
let none = @none();

let type = @anytype();

let a = func (e: *mut i32, ctr: i64) {
    if ctr == 10 {
        return;
    }
    a(e, ctr + 1);
    *e = 10;
};

let main = func () -> i32 {
    mut v = i32(0);

    let ArrayList = func (t: type) -> type {
        return t;
    };
    let t = ArrayList(i32);
    @check(t);
    a(&mut v, 0);
    if v != 10 {
        return 1;
    }
    return 0;
};

@entry(main);
