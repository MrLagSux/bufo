//! THIS IS A TEST PROGRAM
//! COMPILER
//! FAILURE
//! CODE: 1
//! ERROR:
//! idk man, but this requires deep analysis to figure out and report :(
//! Line 24 also modifies `f`, which is not allowed to happen
//! There's a 100% chance that this is something which we can statically verify
//! But I'm too lazy to figure it out right now :^)
struct Bar {
    foo: Foo;
    constructor() {}
}

struct Foo {
    field: i32;
    constructor() {}
}

func main() -> u32 {
    let f: Foo = Foo();
    mut b: Bar = Bar();
    b.foo = f;
    b.foo.field = 10;
    if (f.field == 10) return 1;
    return 0;
}