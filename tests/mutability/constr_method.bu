//! THIS IS A TEST PROGRAM
//! COMPILER
//! FAILURE
//! CODE: 1
//! ERROR:
//! Attempted to mutate temporary value.
//! Temporary values are only valid for the duration of the statement they are declared in.
//! If you want to mutate a value, declare it as a variable instead.

struct Foo {
    field: i64;

    // Builder Pattern example
    func field(mut this, field: i64) -> Foo {
        this.field = field;
        return this;
    }
}

func main() {
    // Struct initialization returns a temporary value
    let f: Foo = Foo {
        field: 0
    }.field(10);
}